# `std::mutex` 和 `std::shared_mutex` 的区别

| 特性       | `std::mutex`                                | `std::shared_mutex`                           |
|------------|--------------------------------------------|----------------------------------------------|
| **锁类型**  | 独占锁（mutex），一次只能有一个线程持有锁 | 共享锁（shared lock）和独占锁（unique lock） |
| **读操作**  | 不允许多个线程并发读取；读和写都需要独占锁 | 允许多个线程并发读取（共享锁），无阻塞    |
| **写操作**  | 只有一个线程可以写，且会阻塞其他线程     | 只有一个线程可以写（独占锁），会阻塞读操作和其他写操作 |
| **适用场景**| 对共享资源进行独占访问的情况             | 频繁读数据，偶尔写数据的场景               |
| **性能**    | 当读操作较少时，性能较好，因为没有区分读写  | 适用于读操作占主导地位的场景，可以允许多个线程同时读，提高并发性 |
| **锁的类型**| 只能加独占锁                              | 可以加共享锁（多个线程同时读）和独占锁（一个线程写） |

